/*
Хватит значит хватит!
Алиса и Боб были в отпуске. Оба они сделали много снимков мест, где они побывали, и теперь они хотят показать Чарли всю свою коллекцию. Однако Чарли эти сеансы не нравятся, поскольку мотив обычно повторяется. Он не любит 40 раз видеть Эйфелеву башню. Он говорит им, что будет сидеть во время сеанса, только если они покажут один и тот же мотив не более N раз. К счастью, Алиса и Боб могут закодировать мотив как число. Можете ли вы помочь им удалить числа так, чтобы их список содержал каждое число только до N раз, без изменения порядка?

Задача:
Учитывая список lst и число N, создайте новый список, содержащий каждое число lst не более N раз без изменения порядка. Например, если N = 2, и ввод [1, 2, 3, 1, 2, 1, 2, 3], вы берете [1, 2, 3, 1, 2], отбрасываете следующий [1, 2], так как это приведет к тому, что 1 и 2 окажутся в результате 3 раза, а затем возьмем 3, что приведет к [1, 2, 3, 1, 2, 3].

Пример:
  deleteNth ([1,1,1,1], 2) // возврат [1,1]

  deleteNth ([20,37,20,21], 1) // возврат [20,37,21]
*/

// 1й способ:
// function deleteNth(arr, n) {
//   const result = [];

//   function counter(num) {
//     for (let i = 0, count = 0; i <= result.length; i++) {
//       result.forEach((elem) => {
//         if (elem == num) count++;
//       });

//       if (count < n) return result.push(num);
//     }
//   }

//   arr.forEach((num) => {
//     counter(num);
//   });

//   return result;
// }

// 2й способ:
function deleteNth(arr, n) {
  let count = {};

  return arr.filter((elem) => {
    count[elem] = count[elem] ? count[elem] + 1 : 1;
    return count[elem] <= n;
  });
}

console.log(deleteNth([20, 37, 20, 21], 1)); // expected [20, 37, 21]
console.log(deleteNth([1, 1, 3, 3, 7, 2, 2, 2, 2], 3)); // expected [1, 1, 3, 3, 7, 2, 2, 2]
console.log(deleteNth([1, 1, 1, 1], 2)); // expected [1, 1]
console.log(deleteNth([1, 2, 3, 1, 2, 1, 2, 3], 2)); // expected [1, 2, 3, 1, 2, 3]
console.log(deleteNth([1, 2, 3, 1, 1, 2, 1, 2, 3, 3, 2, 4, 5, 3, 1], 3)); // expected [1, 2, 3, 1, 1, 2, 2, 3, 3, 4, 5]
console.log(deleteNth([36, 22, 22, 36, 36, 36, 22, 36, 22, 23, 22, 22, 36, 36], 2)); // expected [36, 22, 22, 36, 23]
console.log(deleteNth([34, 42, 34, 29, 34, 34, 29, 34, 29, 9, 42, 34, 29, 29, 29, 9, 34, 29, 13, 42, 34, 34, 29, 13, 9, 34, 29, 13, 13], 5)); // expected [34, 42, 34, 29, 34, 34, 29, 34, 29, 9, 42, 29, 29, 9, 13, 42, 13, 9, 13, 13]
